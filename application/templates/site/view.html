{% extends 'base.html' %}

{% block title %} {{ title_page }} {% endblock %}

{% block title_header %} {{ title_page }} {% endblock %}


{% block  button %}
    {% if current_user.has_roles([('super_admin', 'site')], ['edit']) %}
        <a class="uk-button waves-effect uk-button-success uk-button-small"  href="{{ url_for('site.edit', site_id=site_id, paged=request.args.get('paged')) }}"><span class="uk-margin-small-right"><i class="fa fa-pencil-square-o"></i></span>Modifier</a>
    {% endif %}
    <a class="uk-button waves-effect uk-button-danger uk-button-small" href="{{ url_for('site.index', paged=request.args.get('paged')) }}"><span class="uk-margin-small-right"><i class="fa fa-reply"></i></span>Retour</a>
{% endblock %}


{% block layout_content %}
<div class="uk-container uk-margin">
            {% include 'includes/flash_message.html' %}
            <div class="uk-grid-small" uk-grid>
                <div class="uk-width-1-1">
                    <form method="post" id="formulaire">
                        <div class="uk-card uk-card-default uk-card-small uk-card-body">
                            <div class="uk-position-top-right uk-padding-small uk-width-1-3@s uk-flex uk-flex-right">
                                <a href="#" class="uk-button waves-effect {% if data.actif %} uk-button-success-active {% else %} uk-button-danger-active {% endif %} uk-button-small">
                                    <span>{% if data.actif %} Activé {% else %} Desactivé {% endif %}</span>
                                </a>
                            </div>
                            <div class="uk-padding uk-padding-remove-horizontal uk-grid-small" uk-grid>
                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        <label class="uk-form-label uk-text-bold">Reference : </label>
                                        <div class="uk-form-controls">
                                            <input type="text" class="uk-input uk-form-blank uk-width-1-1 uk-form-large" {% if site_id %} value="{{ current_ref.ref_site }}/{{ data.ref }}" {% endif %}/>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.name.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.name(class_='uk-input  uk-form-blank', id="enter") }}
                                            {% for message in form.name.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.secteur.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.secteur(class_='uk-select selected') }}
                                            {% for message in form.secteur.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.local.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.local(class_='uk-select selected  uk-form-blank', id="enter") }}
                                            {% for message in form.local.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>

                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.type.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            <div class="uk-form-controls">
                                                <select name="type" id="" class="uk-select selected ">
                                                    <option value="">Selectionnez votre type d'affichage </option>
                                                    <option value="MUR" {% if form.type.data == 'MUR' %} selected {% endif %}>MUR</option>
                                                    <option value="STANDLONE" {% if form.type.data == 'STANDLONE' %} selected {% endif %}>STANDLONE</option>
                                                </select>
                                                {% for message in form.type.errors %}
                                                    <span class="uk-alert uk-alert-danger">{{ message }}</span>
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.ecrant.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.ecrant(class_='uk-select selected  uk-form-blank', id="enter") }}
                                            {% for message in form.ecrant.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>


                            <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.latitude.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.latitude(class_='uk-input  uk-form-blank', id="enter") }}
                                            {% for message in form.latitude.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>

                            <div class="uk-width-1-2@s">
                                    <div class="uk-margin">
                                        {{ form.longitude.label(class_='uk-form-label uk-text-bold') }}
                                        <div class="uk-form-controls">
                                            {{ form.longitude(class_='uk-input  uk-form-blank', id="enter") }}
                                            {% for message in form.longitude.errors %}
                                                <div class="uk-alert uk-alert-danger">{{ message }}</div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                             <div class="uk-width-1-2@s">

                                    {{ form.image.label(class_='uk-form-label uk-text-bold') }}

                                    <div class="test-upload uk-placeholder uk-text-center">
                                        <img src="{{ form.image.data }}" id="image_upload" alt="" class="{% if not form.image.data %}uk-hidden{% endif %} uk-margin-auto uk-display-block"/>
                                    </div>

                                </div>


                            </div>

                        </div>
                    </form>
                </div>

            </div>
    </div>
{% endblock %}